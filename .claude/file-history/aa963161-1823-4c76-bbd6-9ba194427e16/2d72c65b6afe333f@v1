import React from 'react';

interface ButtonProps {
  children: React.ReactNode;
  variant?: 'default' | 'primary' | 'danger';
  size?: 'sm' | 'md';
  onClick?: () => void;
  disabled?: boolean;
  type?: 'button' | 'submit';
}

const styles = {
  default: { bg: 'transparent', border: '#334155', color: '#94a3b8', hoverBg: 'rgba(51, 65, 85, 0.3)' },
  primary: { bg: '#6366f1', border: '#6366f1', color: '#fff', hoverBg: '#4f46e5' },
  danger: { bg: 'transparent', border: '#dc2626', color: '#ef4444', hoverBg: 'rgba(220, 38, 38, 0.1)' },
};

export const Button: React.FC<ButtonProps> = ({
  children,
  variant = 'default',
  size = 'sm',
  onClick,
  disabled = false,
  type = 'button'
}) => {
  const s = styles[variant];
  const [isHovered, setIsHovered] = React.useState(false);

  return (
    <button
      type={type}
      onClick={onClick}
      disabled={disabled}
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
      style={{
        display: 'inline-flex',
        alignItems: 'center',
        gap: '4px',
        padding: size === 'sm' ? '4px 8px' : '6px 12px',
        backgroundColor: isHovered && !disabled ? s.hoverBg : s.bg,
        border: `1px solid ${s.border}`,
        borderRadius: '3px',
        color: s.color,
        fontSize: '11px',
        fontWeight: 500,
        cursor: disabled ? 'not-allowed' : 'pointer',
        opacity: disabled ? 0.5 : 1,
        transition: 'background-color 0.15s ease',
      }}
    >
      {children}
    </button>
  );
};
